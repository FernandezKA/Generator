Project: Generator V 0.1
2022-03-08

Распиновка:

PA9 - TX
PA10 - RX
PC13 - LED ACTIVITY
PB12 - CH0

Описание: 

Данный проект представляет собой управляемый по RS232 интерфейсу генератор импульсов заданной длительности. 

Параметры импульса:
 минимальная длительность импульса - 20 uS
 максимальная длительность импульса - 4 294 967 295 uS (~71 min)
 Импульс имеет два состояния - логический ноль (Vss), логическую единицу (Vdd) 

Длительность импульса задается в единицах, кратных 10 nS , путем передачи по RS232 интерфейсу набора из 32 бит на каждый отсчет.
Полярность задается перед загрузкой импульсов, путем установления начального состояния вывода генерации. При каждом последующем переключении
отсчета выполняется операция XOR для бита, устанавливающего состояние вывода. 

Доступные режимы генерации для устройства:
1) Единичная генерация пачки импульсов 
2) Циклическая генерация пачки импульсов

Чтение и запись отсчетов происходит из flash - памяти начиная с 32 страницы (0x0800 8000 + 0x400 * 0x20). Параметры конфигурации сохраняются на 
31 странице памяти (без текущего индекса генерации). 

Протокол для конфигурации устройства:

1) 0x01 - начало генерации пачки импульсов
2) 0x02 - остановка генерации пачки импульсов
3) 0x03 - установка циклического режима генерации импульсов
4) 0x04 - сброс циклического режима генерации пачки импульсов
5) 0x05 - установление режима генерации сигналов после подачи питания
6) 0x06 - сброс режима генерации сигналов просле подачи питания
7) 0x07 - начало загрузки параметров импульсов для генерации

Каждая из указанных команд также может иметь битовое поле, необходимое для конфигурации следующих параметров

1) не имеет дополнительных битовых полей
2) не имеет дополнительных битовых полей
3) не имеет дополнительных битовых полей
4) не имеет дополнительных битовых полей
5) не имеет дополнительных битовых полей
6) не имеет дополнительных битовых полей
7) начальное состояние вывода генерации (0x00 - низкое логическое состояние (Vss), 0x01 - высокое логическое состояние (Vdd))

Описание конфигурации:

1) После подачи данной команды начинается процесс генерации с 1 отсчета. В случае, если генерация была остановлена при помощи команды (2), то она будет продолжена с отсчета, следующего 
 за тем, на котором была произведена отмена генерации.
2) После подачи данной команды происходит прекращение генерации, значение текущего индекса генерации не изменяется. 
3) Происходит установка флага, обеспечивающего циклическую генерацию.
4) Происходит сброс флага, обеспечивающего циклического генерацию
5) Установка флага, обеспечивающего начало генерации сразу после подачи питания. Генерация происходит с начала таблицы значений для пачки импульсов. 
6) Сброс флага, обеспечивающего начало генерациисразу после подачи питания
7) Данный режим позволяет загрузить новые значение для пачки импульсов, при этом информация о предыдущих длительностях и начальном состоянии вывода генерации будет утрачена. 
	Загрузка данных происходит до обнаружения отсчета со значениием 0x0000 0000, в этом случае прием данных будет прекращен, данные будут записаны в flash - память.
	Зачением длительность имеет битовое поле размером 32 бита, первым битом передается MSB. 
	
	